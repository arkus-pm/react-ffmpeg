(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{179:function(e,t,n){e.exports=n(216)},181:function(e,t,n){},203:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=(n(181),n(23),n(31),n(7)),o=n(122),l=(n(203),n(292)),c=n(286),u=n(293),f=n(277),s=n(294),d=(n(204),n(148)),m=n(287),h=n(283),p=n(144),g=n.n(p),v=n(228),b=n(146),w=n.n(b),y=n(147),E=n.n(y),j=function(e){var t=e.audio,n=Object(a.useRef)(),o=Object(a.useRef)({isPlaying:function(){return!1}}),c=Object(a.useState)(!1),u=Object(i.a)(c,2),f=u[0],s=u[1];return Object(a.useEffect)((function(){var e=g.a.create({container:n.current,fillParent:!1,height:50,width:200,barWidth:2,barHeight:2,cursorWidth:1});return e.loadBlob(t),e.on("ready",(function(){o.current=e,e.seekTo(1)})),function(){e.destroy()}}),[t]),r.a.createElement(l.a,{container:!0},r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row"}},r.a.createElement(v.a,{onClick:function(){o.current.playPause(),s(o.current.isPlaying()),o.current.on("finish",(function(){s(o.current.isPlaying())}))},color:"primary"},f?r.a.createElement(w.a,null):r.a.createElement(E.a,null)),r.a.createElement("div",{style:{width:"100%"},ref:n})))},O=n(9);Object(O.a)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}}));var k=[{field:"id",headerName:"ID",flex:1,hide:!0},{headerName:"Locale",sortable:!0,flex:.5,valueGetter:function(e){return e.row.relativePath.split("/").slice(-2,-1)||""}},{field:"fileName",headerName:"FileName",sortable:!0,flex:1},{field:"relativePath",headerName:"Path",sortable:!0,flex:2,hide:!0},{field:"type",headerName:"Type",flex:1},{field:"duration",headerName:"Duration",flex:.8,sortable:!0,type:"number",valueGetter:function(e){return e.row.metadata.duration},valueFormatter:function(e){return null==e.value?"":"".concat(e.value.toFixed(2),"s")}},{field:"waveform",headerName:"Waveform",flex:2,renderCell:function(e){return a.createElement(j,{audio:e.row.file})}}],P=function(e){return a.createElement("div",{style:{padding:"0 2em 0 2em"}},a.createElement("div",{style:{float:"right",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"}},a.createElement(d.a,null)," ",a.createElement(m.a,e)))};function x(e){var t=e.rows;return a.createElement(s.a,{sx:{width:"100%"}},a.createElement(h.a,{components:{Toolbar:P},autoHeight:!0,rows:t,columns:k,pageSize:100,rowsPerPageOptions:[5],checkboxSelection:!0,disableSelectionOnClick:!0}))}var S=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1],Object(a.useState)()),s=Object(i.a)(n,2),d=(s[0],s[1],Object(a.useState)(0)),m=Object(i.a)(d,2),h=(m[0],m[1],Object(a.useState)([])),p=Object(i.a)(h,2),g=p[0],v=p[1],b=function(e){var t=E(Array.from(e.target.files));console.log(t),v(t),console.log(t[0].metadata),Promise.all(t.map((function(e){return e.metadata}))).then((function(e){v(j(e.map((function(e){return e.metadata={data:e.data,duration:e.duration},e}))))}))},w=Object(a.useState)("Select file & click start"),y=Object(i.a)(w,2),E=(y[0],y[1],Object(o.createFFmpeg)({log:!1,logger:function(e){var t=e.type,n=e.message;"use ffmpeg.wasm v0.10.0"!==n&&console.log(t,n)}}),function(e){return e.filter((function(e){if("."!==e.name[0]&&e instanceof Blob)return e})).map((function(e){return{file:e,id:e.webkitRelativePath,fileName:e.name,relativePath:e.webkitRelativePath,type:e.type,metadata:(t=e,new Promise((function(e,n){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){var n=new Audio(a.result);n.preload="metadata",n.onloadedmetadata=function(){e({data:a.result,duration:n.duration,file:t})}},a.onerror=function(e){return n(e)}})))};var t}))}),j=function(e){return e.filter((function(e){if("."!==(e=e.file).name[0]&&e instanceof Blob)return e})).map((function(e){var t=e.metadata;return{file:e=e.file,id:e.webkitRelativePath,fileName:e.name,relativePath:e.webkitRelativePath,type:e.type,metadata:t}}))},O=function(){return r.a.createElement(l.a,{container:!0,justifyContent:"center",alignItems:"center",height:"100%"},r.a.createElement(c.a,{badgeContent:g.length,color:"primary",max:9999},r.a.createElement(u.a,{variant:g.length?"outlined":"contained",component:"label"},g.length?"Reupload folder":"Upload folder",r.a.createElement(f.a,{style:{display:"none"},onChange:b,inputProps:{webkitdirectory:"true"},type:"file"}))))};return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{container:!0,direction:"column",alignItems:"center",spacing:2},r.a.createElement(l.a,{item:!0}),r.a.createElement(l.a,{item:!0},r.a.createElement(O,null)),r.a.createElement(l.a,{item:!0,sx:{width:"100%"}},r.a.createElement(x,{rows:g}))))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var C=n(153),W=document.getElementById("root");Object(C.createRoot)(W).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null))),function(e){if("serviceWorker"in navigator){if(new URL("/react-ffmpeg",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-ffmpeg","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):R(t,e)}))}}()}},[[179,1,2]]]);
//# sourceMappingURL=main.70e0dadd.chunk.js.map